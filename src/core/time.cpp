////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Project: DMC Server
// Date:	2013/Apr/08
// Author:	Pablo Ramón Soria
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include <cassert>
#include "time.h"

namespace dmc {
	//------------------------------------------------------------------------------------------------------------------
	// Static data definition
	//------------------------------------------------------------------------------------------------------------------
	Time* Time::sInstance = nullptr;	

	//------------------------------------------------------------------------------------------------------------------
	// Method implementations
	//------------------------------------------------------------------------------------------------------------------
	void Time::init() {
		assert(sInstance == nullptr);
		sInstance = new Time();
	}

	//------------------------------------------------------------------------------------------------------------------
	void Time::end() {
		assert(sInstance != nullptr);
		delete sInstance;
		sInstance = nullptr;
	}

	//------------------------------------------------------------------------------------------------------------------
	Time::Time() {
		#if defined (__linux__)
			// Get current time
			std::cout << "por aqui he pasao" << std::endl;
			gettimeofday(&mInitTime, 0);
		#elif defined (WIN32)
			// Get initial time
			QueryPerformanceCounter(&mInitTime);
		#endif
	}
	
}	// namespace dmc